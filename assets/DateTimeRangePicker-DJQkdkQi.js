import{R as k,j as n}from"./iframe-CCjepWBu.js";import{u as z}from"./useClickOutside-BmzIjh_n.js";import{g as _}from"./classnames-helper-C6tUBjOJ.js";import{n as B,s as p,t as F,c as U,d as Y,p as g,i as C,g as $,f as c,C as H,a as J,b as W,e as G,h as K}from"./CalendarWeekDayNames-DczzGK2_.js";import{i as Q,v as X}from"./validation-helper-Bjp8riig.js";import{I as R}from"./Icon-CVi0seOY.js";import{F as Z}from"./Flex-BrdwESsa.js";import{I as ee}from"./InputError-jIwtEdDA.js";import{R as I}from"./Radio-cyvcRjnE.js";import{g as q}from"./getHours-C3_Z2HQp.js";function ae(u,r,v){const[i,y]=B(v?.in,u,r);return+p(i)==+p(y)}function A(u,r){return F(u,r?.in).getMinutes()}function w(u,r,v){let i=F(u,v?.in);return isNaN(+i)?U(u,NaN):(r.year!=null&&i.setFullYear(r.year),r.month!=null&&(i=Y(i,r.month)),r.date!=null&&i.setDate(r.date),r.hours!=null&&i.setHours(r.hours),r.minutes!=null&&i.setMinutes(r.minutes),r.seconds!=null&&i.setSeconds(r.seconds),r.milliseconds!=null&&i.setMilliseconds(r.milliseconds),i)}function ne(u){return p(Date.now(),u)}const re=({minimumDate:u,maximunDate:r,markedDays:v=[],readOnly:i,disabled:y,hideTimePicker:h=!1,className:x,field:o,onChange:V})=>{const N=ne();let a=N,t=null;if(!Q(o.value))try{const e=JSON.parse(o.value);e?.start&&(a=C(g(e.start))?g(e.start):N),e?.end&&(t=C(g(e.end))?g(e.end):null)}catch{}const O=[...(t?$(p(a),p(t)):[p(a)]).map(e=>({date:c(e,"yyyy-MM-dd"),type:"new-reservation"})),...v],[D,j]=k.useState(!1),[S,P]=k.useState(a.toISOString()),M=k.useRef(null);z(M,()=>j(!1));const E=_({"date-time-range-picker":!0,border:!0,[`${x}`]:x!==void 0}),L=e=>{P(g(e.value).toISOString())},f=(e,s)=>{const l=JSON.stringify({start:e.toISOString(),end:s?s.toISOString():null});X({...o,value:l},V)},b=(e,s,l)=>{const m=e==="start"?w(a,{hours:s==="hour"?l:q(a),minutes:s==="minute"?l:A(a),seconds:0}):a,d=e==="end"&&t?w(t,{hours:s==="hour"?l:q(t),minutes:s==="minute"?l:A(t),seconds:0}):t;f(m,d)},T=(e,s)=>{const l=e==="start"?a:t;if(!l)return;let m=q(l);m=s==="PM"&&m<12?m+12:s==="AM"&&m>=12?m-12:m;const d=w(l,{hours:m});f(e==="start"?d:a,e==="end"?d:t)};return n.jsxs("div",{className:E,children:[n.jsxs("div",{className:"date-time-range-picker-view",onClick:()=>j(!D),children:[n.jsx(R,{className:"me-2",name:"calendar",size:17}),n.jsx("span",{className:"check-in",children:o.value?c(a,"MMM do yy"):"Check-in"}),!h&&o.value&&n.jsxs("span",{className:"check-in-time",children:[" ",c(a,"h:mm a")]}),n.jsx(R,{className:"ms-1 me-1",name:"swap-arrows",size:17}),n.jsx("span",{className:"check-out",children:o.value&&t?c(t,"MMM do yy"):"Check-out"}),!h&&o.value&&t&&n.jsxs("span",{className:"check-out-time",children:[" ",c(t,"h:mm a")]}),o.error&&n.jsx(ee,{error:o.error})]}),D&&n.jsxs("div",{className:"date-time-range-picker-calendar",ref:M,children:[n.jsx(H,{disabled:y,field:{...o,value:S},onChange:L}),n.jsx(J,{}),n.jsx(W,{field:{...o,value:S},onChange:({value:e})=>{const s=g(e),l=p(s),m=p(a),d=t?p(t):null;m&&d||!d&&G(l,m)?f(l,null):!d&&K(l,m)?f(m,l):!d&&ae(l,m)&&f(m,m)},disabled:y,markedDays:O,minimumDate:u,maximunDate:r}),!h&&n.jsx(Z,{justify:"center",align:"center",children:["start","end"].map(e=>n.jsxs("div",{className:"date-time-range-picker-timepicker mt-3 ps-1 pe-1",children:[n.jsx("input",{className:"input-time me-2",type:"number",value:c(e==="start"?a:t||a,"hh"),onChange:s=>b(e,"hour",Number(s.target.value)),onBlur:s=>b(e,"hour",Number(s.target.value)),readOnly:i,disabled:y,min:"1",max:"12"}),n.jsx("strong",{children:":"}),n.jsx("input",{className:"input-time ms-2 me-2",type:"number",value:c(e==="start"?a:t||a,"mm"),onChange:s=>b(e,"minute",Number(s.target.value)),onBlur:s=>b(e,"minute",Number(s.target.value)),readOnly:i,disabled:y,min:"0",max:"60"}),n.jsxs("div",{className:"time-picker-meridian d-flex gap-2",children:[n.jsx(I,{className:"me-2",field:{name:`meridian-${e}`,formName:"timerangepicker",error:"",value:c(e==="start"?a:t||a,"a"),section:0,validate:{}},checkedValue:"AM",label:"AM",size:"sm",disabled:i,onChange:()=>T(e,"AM")}),n.jsx(I,{field:{name:`meridian-${e}`,formName:"timerangepicker",error:"",value:c(e==="start"?a:t||a,"a"),section:0,validate:{}},checkedValue:"PM",label:"PM",size:"sm",disabled:i,onChange:()=>T(e,"PM")})]})]},e))})]})]})};re.__docgenInfo={description:"",methods:[],displayName:"DateTimeRangePicker",props:{label:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"}]},description:""},markedDays:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  date: string; // ISO string in DEFAULT_DATE_FORMAT
  type: DayType;
}`,signature:{properties:[{key:"date",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:`| "selected"
| "regular"
| "current-day"
| "disabled"
| "reserved"
| "new-reservation"
| "new-reservation-start"
| "new-reservation-end"`,elements:[{name:"literal",value:'"selected"'},{name:"literal",value:'"regular"'},{name:"literal",value:'"current-day"'},{name:"literal",value:'"disabled"'},{name:"literal",value:'"reserved"'},{name:"literal",value:'"new-reservation"'},{name:"literal",value:'"new-reservation-start"'},{name:"literal",value:'"new-reservation-end"'}],required:!0}}]}}],raw:"Array<CalendarDayType>"},description:"",defaultValue:{value:"[]",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},hideTimePicker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},minimumDate:{required:!1,tsType:{name:"string"},description:""},maximunDate:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},isRequired:{required:!1,tsType:{name:"boolean"},description:""},field:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  value: FormFieldValueProps;
  name: string;
  formName: string;
  error: string;
  section: number;
  validate: ValidateProps;
}`,signature:{properties:[{key:"value",value:{name:"union",raw:`| string
| number
| boolean
| File
| File[]
| null
| Array<string>`,elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"File"},{name:"Array",elements:[{name:"File"}],raw:"File[]"},{name:"null"},{name:"Array",elements:[{name:"string"}],raw:"Array<string>"}],required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"formName",value:{name:"string",required:!0}},{key:"error",value:{name:"string",required:!0}},{key:"section",value:{name:"number",required:!0}},{key:"validate",value:{name:"signature",type:"object",raw:`{
  noValidate?: boolean;
  required?: boolean;
  minStrLength?: number;
  maxStrLength?: number;
  type?: "number" | "text" | "email" | "password";
  minImages?: number;
  maxImages?: number;
  isImagesList?: boolean;
  fileSize?: number;
  dateTimePicker?: boolean;
  dateTimeRangePicker?: boolean;
  email?: boolean;
  phone?: boolean;
  integer?: boolean;
  isYoutubeUrl?: boolean;
}`,signature:{properties:[{key:"noValidate",value:{name:"boolean",required:!1}},{key:"required",value:{name:"boolean",required:!1}},{key:"minStrLength",value:{name:"number",required:!1}},{key:"maxStrLength",value:{name:"number",required:!1}},{key:"type",value:{name:"union",raw:'"number" | "text" | "email" | "password"',elements:[{name:"literal",value:'"number"'},{name:"literal",value:'"text"'},{name:"literal",value:'"email"'},{name:"literal",value:'"password"'}],required:!1}},{key:"minImages",value:{name:"number",required:!1}},{key:"maxImages",value:{name:"number",required:!1}},{key:"isImagesList",value:{name:"boolean",required:!1}},{key:"fileSize",value:{name:"number",required:!1}},{key:"dateTimePicker",value:{name:"boolean",required:!1}},{key:"dateTimeRangePicker",value:{name:"boolean",required:!1}},{key:"email",value:{name:"boolean",required:!1}},{key:"phone",value:{name:"boolean",required:!1}},{key:"integer",value:{name:"boolean",required:!1}},{key:"isYoutubeUrl",value:{name:"boolean",required:!1}}]},required:!0}}]}},description:""}}};export{re as D,ne as s};
